<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>日曆</title>
    <link rel="stylesheet" href="Styles/StyleSheet.css" />
    <script>
        document.addEventListener("DOMContentLoaded", function () {            
            document.getElementById("idSelectYear").addEventListener("change", chkisLeap)    
            document.getElementById("idSelectMonth").addEventListener("change", chkisLeap);
            document.getElementById("idSelectDay").addEventListener("change", chkisLeap);

            for (i = 2010; i <= 2020; i++) {   //新增年
                var opt = document.createElement("option");
                opt.value = i;
                opt.innerHTML = i;
                document.getElementById("idSelectYear").appendChild(opt);               
            }

            for (i = 1; i <= 12; i++) { //新增月
                var opt = document.createElement("option");
                opt.value = i;
                opt.innerHTML = i;
                document.getElementById("idSelectMonth").appendChild(opt);
            }   
            
           
            //for (i = 1; i <= 31; i++) { //新增日
            //    var opt = document.createElement("option");
            //    opt.value = i;
            //    opt.innerHTML = i;
            //    document.getElementById("idSelectDay").appendChild(opt);
            //}   

        });                

        function chkisLeap(selectYear, selectMonth) {
            var selectYear = document.getElementById("idSelectYear").value;       
            var selectMonth = document.getElementById("idSelectMonth").value;   
            var limitInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

            var isLeap = new Date(selectYear, 1, 29).getDate() === 29; // 是否為閏年?
            if (isLeap == true) {
                if (selectMonth == 2)
                    for (i = 1; i <= 29; i++) { //新增日
                        var opt = document.createElement("option");
                        opt.value = i;
                        opt.innerHTML = i;
                        document.getElementById("idSelectDay").appendChild(opt);
                    }


            }
            else {


            }
            
            
        }      

    </script>
</head>
<body>
    <div id="allpage">
        <header>
            <nav>
                <ul class="menu">
                    <li><a href="99乘法表.html">99乘法表</a></li>
                    <li><a href="個人資料驗證.html">帳號密碼</a></li>
                    <li><a href="/星星評分.html">星星評分</a></li>
                    <li><a href="/日曆.html">日曆</a></li>
                </ul>
            </nav>
        </header>
        <img class="logo1" src="image/Banner_Sky-Sanctuary.jpg" alt="logo" title="logo" />
        <div class="content">
            <article>
                <div>
                    <h2 class="title">日曆</h2>
                    <br />
                    <select id="idSelectYear"></select>
                    <label>年</label>
                    <select id="idSelectMonth"></select>
                    <label>月</label>
                    <select id="idSelectDay"></select>
                    <label>日</label>
                </div>
                <br />
                <input type="button" id="idClear" value="clearDate" />
            </article>
        </div> <!--end content-->
        <footer>
            <p>MSIT117303  李崇維</p>
        </footer>
    </div> <!--end allpage-->
</body>
</html>